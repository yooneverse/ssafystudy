# BOJ 1244. 스위치 켜고 끄기

---

## 1. 문제 제목

**BOJ 1244. 스위치 켜고 끄기**

---

## 2. 문제 설명

1번부터 N번까지 스위치가 일렬로 나열되어 있고, 각 스위치는  
`1`(켜짐) 또는 `0`(꺼짐)의 상태를 가진다.

학생이 순서대로 스위치를 조작한다. 학생은 성별과 숫자 하나를 받으며, 규칙은 다음과 같다.

- **남학생(1)**  
  - 받은 수 `num`의 **배수 위치** 스위치를 모두 반전한다.

- **여학생(2)**  
  - 받은 수 `num` 스위치를 먼저 반전한다.
  - 이후 `num`을 중심으로 양옆이 대칭이면 두 스위치를 모두 반전한다.
  - 대칭이 깨질 때까지 반복한다.

마지막에 스위치 상태를 한 줄에 20개씩 끊어서 출력한다.

---

## 3. 문제 접근 방식
처음부터 깔끔하게 보이지는 않았고, 아래처럼 하나씩 정리해 나갔다.

- [1] **입력 구조부터 단순화**
  - 스위치 개수 → 스위치 상태 → 학생 수 → 학생 정보  
  - 구조가 시뮬레이션이므로 “그대로 구현하는 문제”로 판단

- [2] **인덱스 고민**
  - 스위치가 1번부터 시작하는데, 파이썬은 0번부터 시작  
  - `i-1` 같은 보정이 계속 필요하면 오히려 헷갈릴 것 같아서 수업시간에 배운대로 
    **앞에 0을 붙여 1번부터 접근하는 방식**으로 결정

- [3] **남학생 규칙은 바로 정리됨**
  - 배수 위치 반복 → `range(num, N+1, num)`  
  - toggle을 함수로 빼고 적용함

- [4] **여학생 규칙에서 한 번 막힘**
  - “대칭이면 확장”이라는 말이 직관적으로 안 와닿았음
  - 어떻게 처음 범위를 잡아야 하는지가 흐릿했음  

- [5] **그러다 ‘돌 뒤집기(대칭 확장)’ 문제 패턴을 적용하기로 함**
  - 예전에 풀었던 뒤집기/확장 문제처럼  
    **“중심 하나에서 시작해서 양옆으로 조건이 맞을 때만 넓히는 방식”**을 떠올림  
  - 이 문제도 중심이 `num`으로 고정되어 있으므로  
    - `left = num - 1`  
    - `right = num + 1`  
    이렇게 시작하면 자연스럽다고 판단  
  - 즉, 알고리즘에 있어서
    **슬라이딩/대칭 확인을 이용한 단순 확장 패턴**이라고 받아들이고 풀기 시작했음.

- [6] **출력 형식 고민**
  - 전부 출력한 뒤 직접 20개씩 끊어 출력한다는 설명이 신경 쓰여서 줄 수를 계산할까 고민했지만, solving club에서 푼 다른 문제랑 비교해본 결과 가장 단순한 방식으로 결론을 내렸음.
    - i를 1부터 N까지 출력
    - `i % 20 == 0`일 때만 줄바꿈  
  - 이렇게 하면 마지막 줄이 20개 미만이어도 자연스럽게 끝남

- [7] 여학생 규칙과 출력 형식을 스스로 생각해 내는 데에 시간이 걸렸기에 다른 문제에서
    힌트를 찾아가고자 노력하였음

---

## 4. 필요한 개념

- 배열 인덱스 조작
- 조건 기반 시뮬레이션
- 배수 순회 (`range(num, N+1, num)`)
- **중심에서 양옆으로 대칭 확장하는 패턴**
- 출력 형식 제어 (20개씩 줄바꿈)

## 5. 미래의 나에게 주는 말

- 이 문제는 특별한 알고리즘보다  
  **조건을 그대로 구현하는 흐름**이 핵심이다.

- 특히 여학생 규칙은 문장만 보면 복잡해 보이지만,  
  사실 **정석적인 “대칭 확장” 패턴**이다.  
  그리고 이 패턴은 예전에 풀었던 **돌 뒤집기 / 중심 기준 확장 문제**와 거의 같다.

- 만약 여학생 규칙을 다시 읽고 이해가 안 되면, 이렇게 떠올리면 된다:

  > “기준 번호 하나를 중심으로 놓고,  
  > 양옆이 같은지 보면서 한 칸씩 넓히는 문제였지.”

  이 문장이 핵심 힌트다.

- 왜 이렇게 떠올릴 수 있느냐 하면,  
  여학생 규칙은 자연스럽게 다음 두 가지 힌트를 준다:

  1. **‘중심에서 시작한다’고 명시**  
     → 중심 잡는 문제는 보통 양옆 확장 패턴과 연결된다.

  2. **‘양옆이 같으면’이라는 조건**  
     → 이건 전형적인 대칭 체크 문제 힌트다.  
       (문자열 팰린드롬, 돌 뒤집기, 대칭 확인 문제와 같은 구조)

- 그래서 규칙을 코드로 옮길 때도  
  포인터처럼 어렵게 생각할 필요 없이,  
  **그냥 범위를 중심에서 양쪽으로 “차근차근 확장”한다고만 기억하자.**

- 다시 필요할 때는 아래 세 줄만 떠올리면 충분하다:

  > 남학생: 배수 뒤집기  
  > 여학생: 중심 뒤집고 → 대칭이면 양옆 확장  
  > 출력: 20개마다 줄바꿈

- 마지막으로,  
  “왼쪽에서 하나 내려가고, 오른쪽에서 하나 올라가는 반복을 했었다”  
  이 흐름만 기억하면 전체 로직은 금방 다시 재구성할 수 있다.